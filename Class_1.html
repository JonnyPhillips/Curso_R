<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Class 1 - Introduction to Analysis, Visualization and Mapping in R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/htmlwidgets-0.9/htmlwidgets.js"></script>
<script src="site_libs/viz-0.3/viz.js"></script>
<link href="site_libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="site_libs/grViz-binding-0.9.2/grViz.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
div.sourceCode {
  overflow-x: visible;
}
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 61px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 66px;
  margin-top: -66px;
}

.section h2 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h3 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h4 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h5 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h6 {
  padding-top: 66px;
  margin-top: -66px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Analysis, Visualization and Mapping in R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="Prior-setup_2.html">Preparation</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Classes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="class_1_slides15.html">Class 1</a>
    </li>
    <li>
      <a href="class_2_slides11.html">Class 2</a>
    </li>
    <li>
      <a href="class_3_slides4.html">Class 3</a>
    </li>
    <li>
      <a href="class_4_slides5.html">Class 4</a>
    </li>
    <li>
      <a href="class_5_slides2.html">Class 5</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Exercises
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Exercise_1a_v3.html">Exercise 1</a>
    </li>
    <li>
      <a href="Exercise_2_v4.html">Exercise 2</a>
    </li>
    <li>
      <a href="Exercise_3_v4.html">Exercise 3</a>
    </li>
    <li>
      <a href="Exercise_4_v1.html">Exercise 4</a>
    </li>
    <li>
      <a href="Exercise_5_v1.html">Exercise 5</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Class 1 - Introduction to Analysis, Visualization and Mapping in R</h1>

</div>


<div id="class-1-objectives" class="section level1">
<h1>Class 1 Objectives</h1>
<ul>
<li>Create a PDF document and a website to communicate your own analysis</li>
<li>Including your own text, analysis, table and chart</li>
<li>Using data from an external source (a CSV file)</li>
</ul>
</div>
<div id="why-r" class="section level1">
<h1>Why R?</h1>
<ul>
<li>Designed for data science</li>
<li>A <em>lingua franca</em> of social science</li>
<li>Easy to make professional outputs (tables, charts, maps) to promote FGV/CEPESP</li>
<li>ANY question you have has already been answered online</li>
</ul>
</div>
<div id="organizing-your-analysis" class="section level1">
<h1>Organizing your Analysis:</h1>
<ol style="list-style-type: decimal">
<li><strong>Use RStudio for everything.</strong> R is the ‘engine’ and language powering your analysis, but RStudio makes conducting analysis easy and anything you can do outside Rstudio you can do inside Rstudio. If you do half your data cleaning in Excel, there will be no record of it and we won’t be able to fix mistakes.</li>
<li><strong>Our work is in the form of a ‘Recipe Book’:</strong> A step-by-step guide to the data inputs (the ingredients), our analysis (the cooking instructions) and the outputs (the picture of the perfect meal). It is NOT an interactive playground like excel (though it can be with Ctrl-Enter) - the order of what we write matters, and we activate all our analysis at once, not step-by-step.</li>
<li><strong>Our work should be self-explanatory and reproducible:</strong> Anybody with R should be able to open our work, press ‘Run’ and produce the same outputs. All files and analysis should be in the same place. And we should use comments in our code and explanations in our text to make everything clear.</li>
<li><strong>Use R Markdown (.rmd) files to combine analysis and outputs:</strong> To keep our analysis and outputs together in a single file, R markdown files allow us to combine data processing/analysis in R - in clearly-defined ‘chunks’ - with the display of text and outputs. We can produce both PDF and HTML outputs.</li>
<li><strong>Organize your work in <em>Projects</em> in R:</strong> For each major analysis, it’s best to choose ‘File’ -&gt; ‘New Project’ -&gt; ‘New Directory’ from Rstudio. Save all your data inputs and outputs in this folder (which Rstudio will do automatically). This will keep all your files together, make accessing them easier, and allow you to easily add on features such as version-tracking with GitHub.</li>
<li><strong>Data frames (tables) are the main building block of our analysis:</strong> Rather than focusing on individual numbers we focus on manipulating and visualizing tables of data, as these are the best way of organizing our data.</li>
<li><strong>Use meaningful names in your work:</strong> ‘data_v1b_2_061215’ won’t mean anything in 3 months! All files and objects should reflect their role in the analysis.</li>
<li><strong>Process our data in a ‘tidy’ way:</strong> This means we will use a set of compatible ‘packages’ called the ‘tidyverse’ to make our analysis transparent and avoid common problems.</li>
</ol>
</div>
<div id="basic-tools-in-rstudio" class="section level1">
<h1>Basic Tools in Rstudio</h1>
<ul>
<li>Code Chunks</li>
<li>Assigning to objects: <code>new_object &lt;- old_object</code></li>
<li>Inspecting objects: Type their name and press ‘Ctrl-Enter’</li>
<li>Processing objects: <code>data_frame %&gt;% action_on_dataframe</code></li>
<li>Comments: <code>#Comments go here and won't be processed by R</code></li>
<li>The actions (functions) we can use depend on the packages we have loaded: <code>install.packages(&quot;New_package&quot;)</code> ONCE, then <code>library(&quot;New_package&quot;)</code> once at the start of each document</li>
</ul>
</div>
<div id="workflow" class="section level1">
<h1>Workflow</h1>
<ol style="list-style-type: decimal">
<li>Dataframe - A table from a file <code>read_csv</code></li>
<li>Process data - <code>filter</code>,<code>select</code>,<code>mutate</code>, <code>join</code></li>
<li>Create measures/statistics - <code>mutate</code>, <code>summarize</code></li>
<li>Run regression - <code>zelig</code></li>
<li>Create results table - <code>stargazer</code></li>
<li>Create graph - <code>ggplot</code></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(DiagrammeR)

<span class="kw">grViz</span>(<span class="st">&quot;</span>
<span class="st">    digraph rmarkdown {</span>

<span class="st">    graph [layout = dot,</span>
<span class="st">           rankdir = LR]</span>

<span class="st">    node [shape = plaintext]</span>
<span class="st">      D [label = &#39;Dataframe&#39;, fontcolor=&#39;blue&#39;]</span>
<span class="st">    P [label = &#39;Process Data&#39;, fontcolor=&#39;red&#39;]</span>
<span class="st">    S [label = &#39;Create Measures/Statistics&#39;, fontcolor=&#39;red&#39;]</span>
<span class="st">    R [label = &#39;Run Regresion&#39;, fontcolor=&#39;red&#39;]</span>
<span class="st">    T [label = &#39;Create Results Table&#39;, fontcolor=&#39;red&#39;]</span>
<span class="st">    G [label = &#39;Create Graph&#39;, fontcolor=&#39;red&#39;]</span>

<span class="st">    D-&gt;P-&gt;S-&gt;R-&gt;T-&gt;G</span>
<span class="st">    }&quot;</span>)</code></pre></div>
<div id="htmlwidget-f8a0754df6201bfa3493" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-f8a0754df6201bfa3493">{"x":{"diagram":"\n\tdigraph rmarkdown {\n\n    graph [layout = dot,\n           rankdir = LR]\n\n    node [shape = plaintext]\n\t  D [label = \"Dataframe\", fontcolor=\"blue\"]\n    P [label = \"Process Data\", fontcolor=\"red\"]\n    S [label = \"Create Measures/Statistics\", fontcolor=\"red\"]\n    R [label = \"Run Regresion\", fontcolor=\"red\"]\n    T [label = \"Create Results Table\", fontcolor=\"red\"]\n    G [label = \"Create Graph\", fontcolor=\"red\"]\n\n    D->P->S->R->T->G\n\t}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="dataframes" class="section level1">
<h1>Dataframes</h1>
<ul>
<li>Variable Names</li>
<li>Observations</li>
<li>Values</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#install.packages(&quot;nycflights13&quot;)</span>
<span class="kw">library</span>(nycflights13)
flights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kable</span>()</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">year</th>
<th align="right">month</th>
<th align="right">day</th>
<th align="right">dep_time</th>
<th align="right">sched_dep_time</th>
<th align="right">dep_delay</th>
<th align="right">arr_time</th>
<th align="right">sched_arr_time</th>
<th align="right">arr_delay</th>
<th align="left">carrier</th>
<th align="right">flight</th>
<th align="left">tailnum</th>
<th align="left">origin</th>
<th align="left">dest</th>
<th align="right">air_time</th>
<th align="right">distance</th>
<th align="right">hour</th>
<th align="right">minute</th>
<th align="left">time_hour</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">517</td>
<td align="right">515</td>
<td align="right">2</td>
<td align="right">830</td>
<td align="right">819</td>
<td align="right">11</td>
<td align="left">UA</td>
<td align="right">1545</td>
<td align="left">N14228</td>
<td align="left">EWR</td>
<td align="left">IAH</td>
<td align="right">227</td>
<td align="right">1400</td>
<td align="right">5</td>
<td align="right">15</td>
<td align="left">2013-01-01 05:00:00</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">533</td>
<td align="right">529</td>
<td align="right">4</td>
<td align="right">850</td>
<td align="right">830</td>
<td align="right">20</td>
<td align="left">UA</td>
<td align="right">1714</td>
<td align="left">N24211</td>
<td align="left">LGA</td>
<td align="left">IAH</td>
<td align="right">227</td>
<td align="right">1416</td>
<td align="right">5</td>
<td align="right">29</td>
<td align="left">2013-01-01 05:00:00</td>
</tr>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">542</td>
<td align="right">540</td>
<td align="right">2</td>
<td align="right">923</td>
<td align="right">850</td>
<td align="right">33</td>
<td align="left">AA</td>
<td align="right">1141</td>
<td align="left">N619AA</td>
<td align="left">JFK</td>
<td align="left">MIA</td>
<td align="right">160</td>
<td align="right">1089</td>
<td align="right">5</td>
<td align="right">40</td>
<td align="left">2013-01-01 05:00:00</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">544</td>
<td align="right">545</td>
<td align="right">-1</td>
<td align="right">1004</td>
<td align="right">1022</td>
<td align="right">-18</td>
<td align="left">B6</td>
<td align="right">725</td>
<td align="left">N804JB</td>
<td align="left">JFK</td>
<td align="left">BQN</td>
<td align="right">183</td>
<td align="right">1576</td>
<td align="right">5</td>
<td align="right">45</td>
<td align="left">2013-01-01 05:00:00</td>
</tr>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">554</td>
<td align="right">600</td>
<td align="right">-6</td>
<td align="right">812</td>
<td align="right">837</td>
<td align="right">-25</td>
<td align="left">DL</td>
<td align="right">461</td>
<td align="left">N668DN</td>
<td align="left">LGA</td>
<td align="left">ATL</td>
<td align="right">116</td>
<td align="right">762</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="left">2013-01-01 06:00:00</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">554</td>
<td align="right">558</td>
<td align="right">-4</td>
<td align="right">740</td>
<td align="right">728</td>
<td align="right">12</td>
<td align="left">UA</td>
<td align="right">1696</td>
<td align="left">N39463</td>
<td align="left">EWR</td>
<td align="left">ORD</td>
<td align="right">150</td>
<td align="right">719</td>
<td align="right">5</td>
<td align="right">58</td>
<td align="left">2013-01-01 05:00:00</td>
</tr>
</tbody>
</table>
</div>
<div id="actions-on-our-dataframe" class="section level1">
<h1>Actions on our Dataframe</h1>
<ul>
<li><code>select</code> variables (columns)</li>
<li><code>count</code> number of observations</li>
<li><code>slice</code> observations (rows)</li>
<li><code>filter</code> observations (rows) by conditions (based on values in columns)</li>
<li><code>rename</code> variables (columns)</li>
<li><code>mutate</code> (change) values of an existing variable</li>
<li><code>mutate</code> to create a new variable based on a transformation of existing data</li>
<li><code>summarize</code> data by creating statistics</li>
<li><code>summarize</code> data by creating statistics after we have <code>group_by</code> distinct groups in our data</li>
<li><code>round</code> values to a specifc number of decimal place</li>
</ul>
<p>Eg. In words: we might want to find the average speed of United (UA) flights. How would we do this? In steps: filter the data to carrier UA, calculate the speed of each flight, and then find the average. In code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">avg_speed &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(carrier<span class="op">==</span><span class="st">&quot;UA&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">speed=</span>distance<span class="op">/</span>(air_time<span class="op">/</span><span class="dv">60</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">avg_speed=</span><span class="kw">mean</span>(speed,<span class="dt">na.rm=</span><span class="ot">TRUE</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">round</span>(<span class="dv">1</span>)</code></pre></div>
<p>The average speed of United Flights is 420.9 miles per hour.</p>
</div>
<div id="exercise-produce-a-quick-ready-to-share-analysis-using-cepespata" class="section level1">
<h1>Exercise: Produce a quick ready-to-share analysis using cepespata</h1>
<ol style="list-style-type: decimal">
<li>Create a project in Rstudio.</li>
<li>Install and load the ‘tidyverse’ and ‘knitr’ packages</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#install.packages(&quot;tidyverse&quot;) #Explain comments</span>
<span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(knitr)</code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Download a CSV from <a href="cepesp.io" class="uri">cepesp.io</a> to your project file. Use the ‘Eleicoes por Cargo’ tab with the default options and the file should include the results of the 2014 Preidential election aggregated for the whole of Brazil.</li>
<li>Create a new Rmarkdown file.</li>
<li>Import the CSV to Rstudio.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pres_2014_elec_results &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;TSE_PRESIDENTE_BR_CANDIDATO_2014.csv&quot;</span>)</code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>Calculate the vote share of each candidate.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pres_2014_elec_results &lt;-<span class="st"> </span>pres_2014_elec_results <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(NUM_TURNO) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Vote_Share=</span><span class="dv">100</span><span class="op">*</span>(QTDE_VOTOS<span class="op">/</span><span class="kw">sum</span>(QTDE_VOTOS)))</code></pre></div>
<ol start="7" style="list-style-type: decimal">
<li>Produce a text which explains which candidate won the election, and what percentage of the vote they received.</li>
<li>Produce a table which shows the results of the first round of the election, including vote share.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pres_2014_elec_results <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(NUM_TURNO<span class="op">==</span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">kable</span>()</code></pre></div>
<ol start="9" style="list-style-type: decimal">
<li>Produce a bar chart which shows the results of the second round of the election by vote share.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pres_2014_elec_results <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(NUM_TURNO<span class="op">==</span><span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x=</span>NOME_CANDIDATO,<span class="dt">y=</span>Vote_Share), <span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>)</code></pre></div>
<ol start="10" style="list-style-type: decimal">
<li>Specify whether you want the processing code to show up in your final document.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Place this line in a chunk at the start of your code to make sure only the outputs appear</span>
knitr<span class="op">::</span>opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">echo=</span><span class="ot">FALSE</span>, <span class="dt">warning=</span><span class="ot">FALSE</span>, <span class="dt">message=</span><span class="ot">FALSE</span>)</code></pre></div>
<ol start="11" style="list-style-type: decimal">
<li>Produce a PDF which combines all your outputs (text, table, chart).</li>
<li>Produce a web page which combines all your outputs (text, table, chart).</li>
</ol>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
